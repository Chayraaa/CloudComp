<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Meeting-Planner - Create poll</title>
    <link rel="stylesheet" href="/static/css/create-meeting.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/favico/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/favico/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/favico/favicon-16x16.png">
    <link rel="manifest" href="/static/favico/site.webmanifest">
    <script>
        function copyToClipboardVote() {
            const voteLink = document.getElementById("voteLink");
            navigator.clipboard.writeText(voteLink.href).catch(err => {
                console.error("Failed to copy: ", err);
            });
        }

        function copyToClipboardResult() {
            const resultLink = document.getElementById("resultLink");
            navigator.clipboard.writeText(resultLink.href).catch(err => {
                console.error("Failed to copy: ", err);
            });
        }
    </script>
</head>
<header>
    <a class="home" href="/">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-house-door-fill"
             viewBox="0 0 16 16">
            <path d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5"/>
        </svg>
    </a>
    <h1 class="centered">Create Poll</h1>
</header>
<body>
<div class="centered">
    <form method="POST" action="/api/create-poll" class="input-group centered">
        <label class=label for="title">Meeting Name:</label>
        <input class=input type="text" name="title" id="title">
        <label class=label for="date1">Date 1:</label>
        <input class=input type="datetime-local" name="date1" id="date1">
        <label class=label for="date2">Date 2:</label>
        <input class=input type="datetime-local" name="date2" id="date2">
        <label class=label for="date3">Date 3:</label>
        <input class=input type="datetime-local" name="date3" id="date3">
        <br>
        <input class=input type="submit" value="Create Poll">
    </form>
    {% if vote_url %}
    <div>
        <h2 class="centered">Share this link to vote!</h2>
        <div class="flex">
            <a href="{{ vote_url }}" id="voteLink">{{ vote_url }}</a>
            <button class="input copyButton" onclick="copyToClipboardVote()">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy"
                     viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                          d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1z"/>
                </svg>
            </button>
        </div>
    </div>
    {% endif %}
    <br>
    {% if result_url %}
    <div>
        <h2 class="centered">Use this link to see results!</h2>
        <div class="flex">
            <a href="{{ result_url }}" id="resultLink">{{ result_url }}</a>
            <button class="input copyButton" onclick="copyToClipboardResult()">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy"
                     viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                          d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1z"/>
                </svg>
            </button>
        </div>
    </div>
    {% endif %}
</div>
</body>
</html>